def envFile = file("${rootProject.rootDir.parent}/.env")


if (envFile.exists()) {
  println("‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ .env")

  def lines = envFile.readLines()
  lines.each { line ->
    def parts = line.split('=')
    if (parts.length == 2) {
      def key = parts[0].trim()
      def value = parts[1].trim()

      // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ ext.env.*
      ext."env.${key}" = value
      println("üîπ –î–æ–±–∞–≤–ª–µ–Ω–æ: env.${key} = ${value}")

      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º –≤ buildConfigField
      android.defaultConfig.buildConfigField "String", key, "\"${value}\""
    }
  }
} else {
  println("‚ö†Ô∏è –§–∞–π–ª .env –Ω–µ –Ω–∞–π–¥–µ–Ω! –û–∂–∏–¥–∞–µ–º—ã–π –ø—É—Ç—å: ${envFile.absolutePath}")
}
